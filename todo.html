<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Todo â€¢ Kalyani</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f3f6ff; --card:#ffffff; --accent1:#6d7cff; --accent2:#5bc6ff;
    --muted:#6b7280; --radius:14px; --glass: rgba(255,255,255,0.6);
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background: linear-gradient(180deg,#f7f9ff,#eef4ff);
    min-height:100vh; display:flex; align-items:center; justify-content:center;
    padding:28px;
    color:#0f172a;
  }

  .wrap{ width:100%; max-width:760px; display:grid; grid-template-columns:1fr 420px; gap:28px; align-items:start; }

  /* left: tasks */
  .app{
    background:var(--card);
    border-radius:var(--radius);
    padding:22px;
    box-shadow: 0 18px 46px rgba(16,24,40,0.08);
    overflow:hidden;
    position:relative;
  }

  header.app-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:6px; }
  .logo { display:flex; gap:12px; align-items:center; }
  .mark{ width:54px;height:54px;border-radius:12px;background:linear-gradient(135deg,var(--accent1),var(--accent2)); display:flex; align-items:center; justify-content:center; color:white; font-weight:700; font-size:20px; box-shadow: 0 10px 28px rgba(93,105,255,0.2); }
  h1{ margin:0; font-size:20px; font-weight:700; }
  .subtitle{ color:var(--muted); font-size:13px; margin-top:4px; }

  .controls{ display:flex; gap:10px; margin-top:14px; align-items:center; }
  .input{
    flex:1; display:flex; gap:8px; align-items:center;
  }
  .input input{
    width:100%; padding:12px 14px; border-radius:12px; border:1px solid #eef4ff; background:linear-gradient(180deg,#fff,#fbfdff);
    outline:none; font-size:15px; transition:box-shadow .12s, transform .08s;
  }
  .input input:focus{ box-shadow:0 12px 30px rgba(93,105,255,0.08); transform:translateY(-1px); border-color:rgba(93,105,255,0.18); }

  .btn{
    border:none; padding:10px 14px; border-radius:10px; background: linear-gradient(90deg,var(--accent1),#7b86ff);
    color:white; font-weight:600; cursor:pointer; box-shadow:0 10px 28px rgba(93,105,255,0.18);
  }

  .meta{ display:flex; justify-content:space-between; align-items:center; margin-top:14px; color:var(--muted); font-size:13px; }

  ul.todo-list{ margin:14px 0 0; padding:0; list-style:none; display:flex; flex-direction:column; gap:12px; max-height:54vh; overflow:auto; }
  .todo{
    display:flex; gap:12px; align-items:center; padding:12px; border-radius:12px; background:linear-gradient(180deg,#fff,#fbfdff);
    box-shadow:0 8px 24px rgba(12,18,30,0.04); transition: transform .12s ease, box-shadow .12s ease;
  }
  .todo:hover{ transform: translateY(-6px); box-shadow:0 20px 44px rgba(12,18,30,0.06); }
  .check{ width:44px; height:44px; border-radius:10px; display:flex; align-items:center; justify-content:center; background:#f4f7ff; border:1px solid #eef5ff; cursor:pointer; font-weight:700; color:var(--accent1); }
  .check.done{ background:linear-gradient(135deg,#dff0ff,#e9f5ff); color:#0f172a; border:0; }
  .task-text{ flex:1; font-size:15px; color:#0f172a; }
  .task-text.done { text-decoration:line-through; opacity:.6; color:#4b5563; }

  .actions{ display:flex; gap:8px; align-items:center; }
  .icon{ background:transparent; border:none; cursor:pointer; padding:6px; border-radius:8px; }
  .icon:hover{ background:#f6f8ff; }

  /* right: summary card */
  .panel{
    background: linear-gradient(180deg,#ffffff,#fbfdff);
    padding:18px; border-radius:14px; box-shadow:0 18px 46px rgba(12,18,30,0.06);
    position:sticky; top:28px;
  }
  .panel h3{ margin:0 0 8px 0; font-size:16px; }
  .kpi{ display:flex; gap:12px; margin-top:12px; }
  .k{ background:#f6f8ff;padding:12px;border-radius:10px;flex:1;text-align:center; }
  .k strong{ display:block; font-size:18px; }

  .muted{ color:var(--muted); font-size:13px; }

  .empty{ text-align:center; color:var(--muted); padding:18px; border-radius:10px; background:linear-gradient(180deg,#fbfdff,#fff) }

  /* small */
  .small{ font-size:13px; color:var(--muted); padding:8px 10px; border-radius:8px; background:#f6f8ff; border:1px solid #eef4ff; cursor:pointer }

  @media (max-width:900px){
    .wrap{ grid-template-columns:1fr; }
    .panel{ position:relative; top:0; }
  }
</style>
</head>
<body>

<div class="wrap">
  <section class="app" aria-label="Todo app">
    <header class="app-header">
      <div class="logo">
        <div class="mark">K</div>
        <div>
          <h1>Todo â€¢ Kalyani</h1>
          <div class="subtitle">Clean UI â€¢ Local storage â€¢ Edit tasks</div>
        </div>
      </div>
      <div style="display:flex;gap:10px;align-items:center">
        <button id="clearAll" class="small" title="Clear all">Clear All</button>
      </div>
    </header>

    <div class="controls">
      <div class="input" style="flex:1">
        <input id="taskInput" placeholder="Add a new task (press Enter)" />
        <button id="addBtn" class="btn">Add</button>
      </div>
    </div>

    <div class="meta">
      <div id="count">0 active</div>
      <div style="display:flex;gap:8px"><button id="clearCompleted" class="small">Clear completed</button></div>
    </div>

    <ul id="todoList" class="todo-list" aria-live="polite"></ul>

    <div id="empty" class="empty" style="display:none">Nothing here â€” add your first task âœ¨</div>
  </section>

  <aside class="panel" aria-hidden="false">
    <h3>Overview</h3>
    <div class="kpi">
      <div class="k"><strong id="k-active">0</strong><div class="muted">Active</div></div>
      <div class="k"><strong id="k-total">0</strong><div class="muted">Total</div></div>
    </div>

    <div style="margin-top:16px">
      <h4 style="margin:0 0 6px 0">Shortcuts</h4>
      <div class="muted">Enter to add â€¢ Click text to edit â€¢ Drag (not implemented) â€¢ Local storage saved</div>
    </div>

    <div style="margin-top:14px">
      <h4 style="margin:0 0 6px 0">About</h4>
      <div class="muted">Built with HTML/CSS/Vanilla JS â€¢ Good for quick demos on your resume</div>
    </div>
  </aside>
</div>

<script>
  // improved todo app
  const input = document.getElementById('taskInput');
  const addBtn = document.getElementById('addBtn');
  const list = document.getElementById('todoList');
  const empty = document.getElementById('empty');
  const countEl = document.getElementById('count');
  const kActive = document.getElementById('k-active');
  const kTotal = document.getElementById('k-total');
  const clearCompleted = document.getElementById('clearCompleted');
  const clearAll = document.getElementById('clearAll');

  let todos = JSON.parse(localStorage.getItem('kalyani_todos_v2') || '[]');

  function save(){ localStorage.setItem('kalyani_todos_v2', JSON.stringify(todos)); render(); }

  function render(){
    list.innerHTML = '';
    if(!todos.length) { empty.style.display='block'; } else { empty.style.display='none'; }
    todos.forEach((t,i)=>{
      const li = document.createElement('li'); li.className='todo';
      const left = document.createElement('div'); left.style.display='flex'; left.style.gap='12px'; left.style.alignItems='center';
      const chk = document.createElement('button'); chk.className='check' + (t.done? ' done':''); chk.innerHTML = t.done? 'âœ“':''; chk.onclick = ()=>{ todos[i].done = !todos[i].done; save(); };
      const textWrap = document.createElement('div'); textWrap.style.flex='1';
      if(t.edit){
        const e = document.createElement('input'); e.className='edit';
        e.value = t.text; e.style.width='100%';
        e.onkeydown = (ev)=>{ if(ev.key==='Enter'){ todos[i].text = e.value.trim() || todos[i].text; t.edit=false; 
                                                   save();
                                                  }
                             if(ev.key==='Escape'){ t.edit=false; save();
                                                  } };
        e.onblur = ()=>{ t.edit=false; todos[i].text = e.value.trim() || todos[i].text; save(); };
        textWrap.appendChild(e); setTimeout(()=> e.focus(),10);
      } else {
        const span = document.createElement('div'); span.className = 'task-text' + (t.done? ' done':'' );
        span.textContent = t.text;
        span.onclick = ()=>{ t.edit=true; save(); };
        textWrap.appendChild(span);
      }
      left.appendChild(chk); left.appendChild(textWrap);

      const act = document.createElement('div'); 
      act.className='actions';
      const editBtn = document.createElement('button'); 
      editBtn.className='icon'; 
      editBtn.innerHTML='âœŽ'; 
      editBtn.title='Edit';
      editBtn.onclick = ()=>{ t.edit=true; 
                             save();
                            };
      const delBtn = document.createElement('button'); 
      delBtn.className='icon';
      delBtn.innerHTML='ðŸ—‘';
      delBtn.title='Delete';
      delBtn.onclick = ()=>{
        todos.splice(i,1);
        save();
      };
      act.appendChild(editBtn); 
      act.appendChild(delBtn);

      li.appendChild(left);
      li.appendChild(act);
      list.appendChild(li);
    });
    const total = todos.length;
    const active = todos.filter(x=>!x.done).length;
    countEl.textContent = `${active} active`;
    kActive.textContent = active; kTotal.textContent = total;
  }

  function addTask(text){ todos.unshift({ text, done:false, edit:false}); save(); }

  addBtn.addEventListener('click', ()=>{ const v = input.value.trim(); if(!v) return; addTask(v); input.value=''; input.focus(); });
  input.addEventListener('keydown', (e)=>{ if(e.key==='Enter') addBtn.click(); });

  clearCompleted.addEventListener('click', ()=>{ todos = todos.filter(t=>!t.done); save(); });
  clearAll.addEventListener('click', ()=>{ if(confirm('Clear all tasks?')){ todos=[]; save(); } });

  // initial render
  render();
</script>
</body>
</html>

